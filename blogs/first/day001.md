---
title: 001：一道柯里化相关面试题引发的思考
date: 2021-02-02
tags:
 - js
categories:
 - js基础
---

```js
// 实现一个add方法，使计算结果能够满足如下预期：
add(1)(2)(3) = 6;
add(1, 2, 3)(4) = 10;
add(1)(2)(3)(4)(5) = 15;
```

## 思考一：ToPrimisive

这道题有一个很巧妙的答案：
```js
const add=(...res)=>{
    let args = [...res];
    const addArgs = (...subRes)=>{
        args = args.concat(subRes)
        return addArgs
    }
    addArgs.toString = ()=>args.reduce((x,y)=>x+y,0)
    return addArgs
}
```
可能大家和我一样，最大的疑问就是为什么代码执行到最后会调用toString方法？
这也是我所认为的这个答案最巧妙的部分。

下面解答疑惑：

调用toString方法可以理解为Object的隐式转换过程。

在TC39中定义了一系列算法，他们叫做抽象操作。




**函数柯里化（Currying）**：
柯里化是把接受多个参数的函数转变为接受一个单一参数的函数，并且返回接受余下的参数且返回结果的新函数的技术。





https://tc39.es/ecma262/#sec-type-conversion

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive

https://www.php.cn/js-tutorial-410318.html

https://www.jianshu.com/p/f903b42812e4

https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch4.html

https://www.jianshu.com/p/2975c25e4d71